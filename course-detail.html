<!doctype html>
<html lang="zh-Hant">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CFT 照顧學校 | 失智友善溝通與行為支持</title>
    <meta name="description" content="失智友善溝通與行為支持課程，由專業失智照顧專家授課，提供長照積分，6小時深度培訓。">
    <meta name="keywords" content="失智照顧,溝通技巧,行為支持,長照積分">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/theme-v0.css">
    <link rel="stylesheet" href="assets/css/ui-v0-legacy.css">
    
    <!-- Favicon -->
    <link rel="icon" href="assets/images/logo.png" type="image/png">
</head>
<body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="sr-only">跳至主要內容</a>
    
    <!-- Header Component -->
    <header class="header" role="banner">
        <nav class="header__nav container" aria-label="主要導覽">
            <div class="header__brand">
                <a href="index.html" aria-label="返回首頁"><img src="assets/images/logo.png" alt="CFT" class="header__logo"></a>
                <a class="header__brand-subtitle" href="admin-dashboard.html">CFT 照顧學校</a>
            </div>
            <ul class="header__menu" role="menubar">
                <!-- 首頁由logo承擔返回功能；手機隱藏此項 -->
                <li role="none">
                    <a href="courses.html" class="header__menu-item header__menu-item--active" role="menuitem" aria-current="page">課程資訊</a>
                </li>
                <li role="none">
                    <a href="teachers.html" class="header__menu-item" role="menuitem">師資群</a>
                </li>
                <li role="none">
                    <a href="faq.html" class="header__menu-item" role="menuitem">常見問題</a>
                </li>
                <li role="none">
                    <a href="student-dashboard.html" class="header__menu-item" role="menuitem">學員中心</a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main-content" role="main">
        <section class="section container">
            <!-- Breadcrumb Navigation -->
            <nav aria-label="麵包屑導覽" class="breadcrumb">
                <ol class="breadcrumb__list">
                    
                    <li class="breadcrumb__item">
                        <a href="courses.html">課程資訊</a>
                    </li>
                    <li class="breadcrumb__item" aria-current="page">
                        失智友善溝通與行為支持
                    </li>
                </ol>
            </nav>

            <!-- Course Detail Layout -->
            <div class="course-detail-layout">
                <!-- Main Content Area -->
                <div class="course-content">
                    <!-- Course Header -->
                    <header class="course-header">
                        <div class="course-tags">
                            <span class="tag">失智照顧</span>
                            <span class="badge">長照積分</span>
                        </div>
                        <h1 class="course-title">失智友善溝通與行為支持</h1>
                        <div class="course-meta">
                            <div class="meta">
                                <span class="meta__item">📍 台中 CFT</span>
                                <span class="meta__item">📅 09/28(六)</span>
                                <span class="meta__item">⏰ 09:30–16:30（6小時）</span>
                                <span class="meta__item">📜 長照積分</span>
                            </div>
                        </div>
                    </header>

                    <!-- Course Information Cards -->
                    <div class="course-info-grid">
                        <!-- Course Introduction -->
                        <div class="card course-intro">
                            <h2>課程介紹</h2>
                            <p>本課程聚焦失智者行為分析、溝通策略與家庭支持，包含實作演練與案例討論。透過專業的理論基礎與實務經驗分享，協助照顧者建立正確的失智照顧觀念，學習有效的溝通技巧，並能妥善處理各種行為問題。</p>
                            
                            <h3>學習目標</h3>
                            <ul class="course-objectives">
                                <li>理解失智症的病理機制與行為表現</li>
                                <li>掌握失智者溝通的原則與技巧</li>
                                <li>學會分析與處理常見行為問題</li>
                                <li>建立有效的家庭支持系統</li>
                                <li>運用非藥物介入策略改善生活品質</li>
                            </ul>

                            <h3>適合對象</h3>
                            <ul class="target-audience">
                                <li>照顧服務員</li>
                                <li>家庭照顧者</li>
                                <li>護理人員</li>
                                <li>社工師</li>
                                <li>職能治療師</li>
                                <li>對失智照顧有興趣的一般民眾</li>
                            </ul>
                        </div>

                        <!-- Teacher Information -->
                        <div class="card teacher-info">
                            <h2>師資介紹</h2>
                            <div class="teacher-profile">
                                <div class="teacher-avatar">
                                    <div class="avatar-placeholder">👩‍⚕️</div>
                                </div>
                                <div class="teacher-details">
                                    <h3>王美華 專科護理師</h3>
                                    <div class="teacher-credentials">
                                        <span class="badge badge--info">失智專科護理師</span>
                                        <span class="badge badge--info">家庭照顧指導員</span>
                                    </div>
                                    <div class="teacher-experience">
                                        <p><strong>現職：</strong>台中榮民總醫院 失智共照中心 專科護理師</p>
                                        <p><strong>經歷：</strong>失智照顧經驗12年，曾任某醫學中心神經內科、某大學護理系兼任講師</p>
                                        <p><strong>專長：</strong>失智症照護、家庭支持、行為問題處理、照顧者壓力調適</p>
                                        <p><strong>證照：</strong>專科護理師、失智症照顧指導員、長期照顧評估人員</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Course Schedule -->
                        <div class="card course-schedule">
                            <h2>課程大綱</h2>
                            <div class="schedule-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>時間</th>
                                            <th>課程內容</th>
                                            <th>講師</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>09:30-10:30</td>
                                            <td>失智症概論與病程發展</td>
                                            <td>王美華</td>
                                        </tr>
                                        <tr>
                                            <td>10:40-12:00</td>
                                            <td>失智者溝通技巧與策略</td>
                                            <td>王美華</td>
                                        </tr>
                                        <tr>
                                            <td>13:00-14:30</td>
                                            <td>常見行為問題分析與處理</td>
                                            <td>王美華</td>
                                        </tr>
                                        <tr>
                                            <td>14:40-16:00</td>
                                            <td>案例討論與實作演練</td>
                                            <td>王美華</td>
                                        </tr>
                                        <tr>
                                            <td>16:00-16:30</td>
                                            <td>Q&A 與綜合討論</td>
                                            <td>王美華</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Course Requirements -->
                        <div class="card course-requirements">
                            <h2>課程資訊</h2>
                            <div class="info-grid">
                                <div class="info-item">
                                    <h4>👥 招生名額</h4>
                                    <p>30 人（額滿即止）</p>
                                </div>
                                <div class="info-item">
                                    <h4>💰 課程費用</h4>
                                    <p>NT$ 2,000 或 10 點數</p>
                                </div>
                                <div class="info-item">
                                    <h4>📅 報名截止</h4>
                                    <p>09/20 (額滿即止)</p>
                                </div>
                                <div class="info-item">
                                    <h4>📍 上課地點</h4>
                                    <p>台中市西區五權路1-1號<br>CFT 照顧學校</p>
                                </div>
                                <div class="info-item">
                                    <h4>🎓 證書發放</h4>
                                    <p>完成課程並通過測驗者核發結業證書</p>
                                </div>
                                <div class="info-item">
                                    <h4>📋 課程請帶</h4>
                                    <ul>
                                        <li>個人長照小卡</li>
                                        <li>筆記用具</li>
                                        <li>身份證明文件</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Information -->
                    <div class="card additional-info">
                        <h3>注意事項</h3>
                        <ul class="info-list">
                            <li>📧 報名成功後將發送確認Email</li>
                            <li>📞 課前3天會電話聯繫確認出席</li>
                            <li>🍽️ 中午用餐請自理或代訂便當</li>
                            <li>🚗 場地備有停車場（酌收停車費）</li>
                            <li>📱 課程期間請將手機調至靜音模式</li>
                            <li>📸 課程進行中將拍照作為紀錄</li>
                        </ul>
                    </div>

                    <!-- Related Courses -->
                    <div class="card related-courses">
                        <h3>相關課程推薦</h3>
                        <div class="related-course-list">
                            <div class="related-course-item">
                                <h4><a href="#">失智症營養照護實務</a></h4>
                                <p class="meta">11/05 | 台中 | 4小時</p>
                            </div>
                            <div class="related-course-item">
                                <h4><a href="#">失智症藥物管理</a></h4>
                                <p class="meta">11/12 | 線上 | 3小時</p>
                            </div>
                            <div class="related-course-item">
                                <h4><a href="#">失智症復健活動設計</a></h4>
                                <p class="meta">11/19 | 台北 | 6小時</p>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="card contact-info">
                        <h3>聯絡資訊</h3>
                        <div class="contact-details">
                            <p><strong>📞 客服專線</strong><br>0800-123-456</p>
                            <p><strong>📧 Email</strong><br>service@cft.org.tw</p>
                            <p><strong>🕒 服務時間</strong><br>週一至週五 09:00-18:00</p>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <aside class="course-sidebar">
                    <!-- Registration Card -->
                    <div class="card registration-card">
                        <h3>報名資訊</h3>
                        <div class="registration-status">
                            <div class="status-item">
                                <span class="status-label">我的點數：</span>
                                <span class="status-value">12</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">需要點數：</span>
                                <span class="status-value status-value--required">10</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">目前報名：</span>
                                <span class="status-value">24 / 30</span>
                            </div>
                        </div>
                        
                        <div class="registration-actions">
                            <button class="btn btn--primary" data-open="modal-register" aria-label="報名此課程">
                                👆 報名課程
                            </button>
                            <button class="btn btn--primary" data-open="modal-purchase" aria-describedby="purchase-help">
                                💳 購買點數
                            </button>
                            <div class="field__help" id="purchase-help">點數充足，可直接報名課程</div>
                            
                            <button class="btn" aria-label="下載課程簡章">
                                📄 下載簡章
                            </button>
                            
                            <button class="btn btn--danger" data-open="modal-cancel">
                                ❌ 線上取消報名
                            </button>
                        </div>
                        
                        <div class="notice notice--info">
                            <strong>提醒：</strong>報名後將寄發課前通知與相關資料，請留意信箱。
                        </div>
                    </div>
                </aside>
            </div>
        </section>
    </main>

    <!-- Footer Component -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer__content">
                <p>&copy; 2025 創照服務設計 · 本頁為UI提案Mock，非最終產品</p>
                <div class="footer__links">
                    <a href="#privacy" aria-label="隱私權政策">隱私權政策</a>
                    <a href="#terms" aria-label="服務條款">服務條款</a>
                    <a href="faq.html" aria-label="聯絡我們">聯絡我們</a>
                    <a href="#accessibility" aria-label="無障礙宣告">無障礙宣告</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div class="modal-backdrop" id="modal-purchase" role="dialog" aria-labelledby="purchase-title" aria-hidden="true">
        <div class="modal">
            <div class="modal__header">
                <h2 class="modal__title" id="purchase-title">購買點數</h2>
                <button class="modal__close" data-close aria-label="關閉對話框">✕</button>
            </div>
            <div class="modal__content">
                <div class="purchase-status">
                    <p><strong>目前狀況：</strong></p>
                    <ul>
                        <li>我的點數：<strong>12 點</strong></li>
                        <li>課程需要：<strong>10 點</strong></li>
                        <li>點數狀況：<span style="color: var(--c-success); font-weight: 600;">充足 (+2點)</span></li>
                    </ul>
                </div>
                
                <div class="purchase-packages">
                    <h4>💰 點數方案</h4>
                    <div class="package-options">
                        <label class="package-option">
                            <input type="radio" name="package" value="10" checked>
                            <span class="package-details">
                                <strong>10 點</strong> - NT$ 1,000<br>
                                <small>基礎方案</small>
                            </span>
                        </label>
                        <label class="package-option recommended">
                            <input type="radio" name="package" value="25">
                            <span class="package-details">
                                <strong>25 點</strong> - NT$ 2,300<br>
                                <small style="color: var(--c-success);">推薦 • 省 NT$ 200</small>
                            </span>
                        </label>
                        <label class="package-option">
                            <input type="radio" name="package" value="50">
                            <span class="package-details">
                                <strong>50 點</strong> - NT$ 4,200<br>
                                <small>省 NT$ 800</small>
                            </span>
                        </label>
                    </div>
                </div>
                
                <div class="field">
                    <label for="payment-method">💳 付款方式</label>
                    <select id="payment-method">
                        <option value="credit-card">信用卡</option>
                        <option value="bank-transfer">銀行轉帳</option>
                    </select>
                </div>
            </div>
            <div class="modal__actions">
                <button class="btn" data-close>取消</button>
                <button class="btn btn--primary">前往付款</button>
            </div>
        </div>
    </div>

    <div class="modal-backdrop" id="modal-cancel" role="dialog" aria-labelledby="cancel-title" aria-hidden="true">
        <div class="modal">
            <div class="modal__header">
                <h2 class="modal__title" id="cancel-title">線上取消報名</h2>
                <button class="modal__close" data-close aria-label="關閉對話框">✕</button>
            </div>
            <div class="modal__content">
                <p>是否確認取消本課程報名？系統將依規定處理退費與點數加回。</p>
                <div class="notice notice--danger">
                    <strong>退費說明：</strong>
                    <ul style="margin-top: 8px;">
                        <li>課程開始前7天：全額退費</li>
                        <li>課程開始前3-7天：退費80%</li>
                        <li>課程開始前1-3天：退費50%</li>
                    </ul>
                </div>
            </div>
            <div class="modal__actions">
                <button class="btn" data-close>保留報名</button>
                <button class="btn btn--danger">確認取消</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="assets/js/main.js"></script>

    <!-- Page-specific Styles -->
    <style>
        .breadcrumb {
            margin-bottom: var(--space-lg);
        }
        
        .breadcrumb__list {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: var(--space-sm);
        }
        
        .breadcrumb__item {
            color: var(--c-muted);
            font-size: 14px;
        }
        
        .breadcrumb__item:not(:last-child)::after {
            content: ' / ';
            margin-left: var(--space-sm);
            color: var(--c-muted);
        }
        
        .breadcrumb__item a {
            color: var(--c-primary);
            text-decoration: none;
        }
        
        .breadcrumb__item a:hover {
            text-decoration: underline;
        }
        
        .course-detail-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-xl);
        }
        
        .course-header {
            margin-bottom: var(--space-xl);
        }
        
        .course-tags {
            display: flex;
            gap: var(--space-sm);
            margin-bottom: var(--space-md);
        }
        
        .course-title {
            margin-bottom: var(--space-md);
        }
        
        .course-info-grid {
            display: grid;
            gap: var(--space-lg);
        }
        
        .course-intro h3 {
            margin-top: var(--space-lg);
            margin-bottom: var(--space-sm);
            color: var(--c-primary);
        }
        
        .course-objectives,
        .target-audience {
            list-style: none;
            padding: 0;
        }
        
        .course-objectives li,
        .target-audience li {
            padding: var(--space-xs) 0;
            padding-left: var(--space-lg);
            position: relative;
        }
        
        .course-objectives li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--c-success);
            font-weight: bold;
        }
        
        .target-audience li::before {
            content: '👤';
            position: absolute;
            left: 0;
        }
        
        .teacher-profile {
            display: flex;
            gap: var(--space-md);
        }
        
        .teacher-avatar {
            flex-shrink: 0;
        }
        
        .avatar-placeholder {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--c-sub);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }
        
        .teacher-details h3 {
            margin-bottom: var(--space-sm);
        }
        
        .teacher-credentials {
            display: flex;
            gap: var(--space-xs);
            margin-bottom: var(--space-md);
            flex-wrap: wrap;
        }
        
        .teacher-experience p {
            margin-bottom: var(--space-sm);
            font-size: 14px;
            line-height: 1.6;
        }
        
        .schedule-table {
            overflow-x: auto;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-lg);
        }
        
        .info-item h4 {
            margin-bottom: var(--space-sm);
            color: var(--c-primary);
        }
        
        .info-item ul {
            list-style: none;
            padding: 0;
        }
        
        .info-item li {
            padding: 4px 0;
        }
        
        .registration-card {
            position: sticky;
            top: 90px;
        }
        
        .registration-status {
            margin-bottom: var(--space-lg);
            padding: var(--space-md);
            background: var(--c-sub);
            border-radius: var(--radius-card);
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-xs);
        }
        
        .status-value--required {
            color: var(--c-danger);
            font-weight: bold;
        }
        
        .registration-actions {
            display: grid;
            gap: var(--space-sm);
            margin-bottom: var(--space-lg);
        }
        
        .additional-info .info-list {
            list-style: none;
            padding: 0;
        }
        
        .additional-info .info-list li {
            padding: var(--space-xs) 0;
            border-bottom: 1px solid #F0F0F0;
        }
        
        .related-course-item {
            padding: var(--space-sm) 0;
            border-bottom: 1px solid #F0F0F0;
        }
        
        .related-course-item:last-child {
            border-bottom: none;
        }
        
        .related-course-item h4 {
            margin: 0 0 var(--space-xs) 0;
            font-size: 14px;
        }
        
        .related-course-item a {
            color: var(--c-primary);
            text-decoration: none;
        }
        
        .related-course-item a:hover {
            text-decoration: underline;
        }
        
        .contact-details p {
            margin-bottom: var(--space-md);
            line-height: 1.6;
        }
        
        @media (max-width: 992px) {
            .course-detail-layout {
                grid-template-columns: 1fr;
            }
            
            .registration-card {
                position: static;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .teacher-profile {
                flex-direction: column;
            }
            
            .teacher-credentials {
                justify-content: center;
            }
        }
    </style>
    
    <!-- Course Registration Modal -->
    <div id="modal-register" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeModal('modal-register')"></div>
        <div class="modal-content" style="max-width: 600px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2>📝 課程報名</h2>
                <button class="modal-close" onclick="closeModal('modal-register')">&times;</button>
            </div>
            
            <!-- Step 1: Point Validation -->
            <div id="registration-step-1" class="registration-step">
                <div class="course-summary">
                    <h3>失智友善溝通與行為支持</h3>
                    <div class="summary-details">
                        <div class="detail-item">
                            <span class="label">📅 上課日期：</span>
                            <span class="value">2025年2月15日 (六) 09:00-17:00</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">📍 上課地點：</span>
                            <span class="value">創照服務設計 台中教室</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">👨‍🏫 授課講師：</span>
                            <span class="value">王美美 老師</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">⏰ 課程時數：</span>
                            <span class="value">6小時</span>
                        </div>
                        <div class="detail-item credit-highlight">
                            <span class="label">📜 長照積分：</span>
                            <span class="value">6積分 (專業課程)</span>
                            <span class="credit-badge">積分課程</span>
                        </div>
                    </div>
                </div>
                
                <div class="point-validation sufficient">
                    <div class="point-status">
                        <div class="point-row">
                            <span>我的點數：</span>
                            <span class="current-points">12 點</span>
                        </div>
                        <div class="point-row">
                            <span>需要點數：</span>
                            <span class="required-points">10 點</span>
                        </div>
                        <div class="point-row sufficient">
                            <span>點數充足：</span>
                            <span class="sufficient-points">可直接報名</span>
                        </div>
                    </div>
                    
                    <div class="point-actions">
                        <button class="btn btn--success" onclick="showStep(2)">
                            ✅ 繼續報名
                        </button>
                        <p class="help-text">點數充足，可直接進行報名流程</p>
                    </div>
                </div>
            </div>
            
            <!-- Step 2: Course Surveys (shown when points are sufficient) -->
            <div id="registration-step-2" class="registration-step" style="display: none;">
                <h3>📋 報名資訊填寫</h3>
                
                <form id="registration-form">
                    <!-- Meal Preference -->
                    <div class="field">
                        <label for="meal-preference">🍽️ 用餐需求</label>
                        <select id="meal-preference" required>
                            <option value="">請選擇用餐需求</option>
                            <option value="meat">葷食</option>
                            <option value="vegetarian">素食</option>
                            <option value="vegan">純素</option>
                        </select>
                    </div>
                    
                    <!-- Accommodation -->
                    <div class="field">
                        <label for="accommodation">🏨 住宿需求</label>
                        <select id="accommodation" required>
                            <option value="">請選擇住宿需求</option>
                            <option value="none">不需要住宿</option>
                            <option value="single">單人房</option>
                            <option value="double">雙人房</option>
                        </select>
                    </div>
                    
                    <!-- Shuttle Service -->
                    <div class="field">
                        <label for="shuttle">🚌 高鐵接送服務</label>
                        <select id="shuttle" required>
                            <option value="">請選擇接送需求</option>
                            <option value="none">不需要接送</option>
                            <option value="pickup">僅去程接送</option>
                            <option value="dropoff">僅回程接送</option>
                            <option value="both">來回接送</option>
                        </select>
                    </div>
                    
                    <!-- Potluck Dish -->
                    <div class="field">
                        <label for="potluck-dish">🥘 一人一菜 (聚餐活動)</label>
                        <input type="text" id="potluck-dish" placeholder="請輸入您要準備的菜色" required>
                        <div class="field__help">
                            其他學員準備的菜色：<br>
                            <span class="existing-dishes">
                                • 紅燒牛肉 (陳小姐) • 宮保雞丁 (李先生) • 麻婆豆腐 (王小姐)
                            </span>
                        </div>
                    </div>
                    
                    <!-- Credit Course Acknowledgment -->
                    <div class="field">
                        <div class="credit-acknowledgment">
                            <label class="checkbox-label">
                                <input type="checkbox" id="credit-acknowledge" required>
                                <span class="checkbox-text">
                                    我了解此為 <strong>長照積分課程</strong>，將計入我的長照再教育積分時數
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" onclick="showStep(1)">
                            ← 返回上一步
                        </button>
                        <button type="button" class="btn btn--primary" onclick="showConfirmation()">
                            下一步 確認報名 →
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Step 3: Final Confirmation -->
            <div id="registration-step-3" class="registration-step" style="display: none;">
                <h3>✅ 報名確認</h3>
                
                <div class="confirmation-summary">
                    <div class="summary-section">
                        <h4>課程資訊</h4>
                        <div class="summary-item">
                            <strong>失智友善溝通與行為支持</strong><br>
                            📅 2025年2月15日 (六) 09:00-17:00<br>
                            📍 創照服務設計 台中教室<br>
                            👨‍🏫 王美美 老師
                        </div>
                    </div>
                    
                    <div class="summary-section">
                        <h4>報名資訊</h4>
                        <div class="summary-item" id="registration-summary">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="summary-section">
                        <h4>點數扣除</h4>
                        <div class="point-deduction">
                            <div class="deduction-row">
                                <span>目前點數：</span>
                                <span>12 點</span>
                            </div>
                            <div class="deduction-row">
                                <span>扣除點數：</span>
                                <span>-10 點</span>
                            </div>
                            <div class="deduction-row total">
                                <span>剩餘點數：</span>
                                <span>2 點</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="confirmation-actions">
                    <button type="button" class="btn" onclick="showStep(2)">
                        ← 修改資訊
                    </button>
                    <button type="button" class="btn btn--success" onclick="submitRegistration()">
                        🎯 確認報名
                    </button>
                </div>
            </div>
            
            <!-- Success Message -->
            <div id="registration-success" class="registration-step" style="display: none;">
                <div class="success-message">
                    <div class="success-icon">🎉</div>
                    <h3>報名成功！</h3>
                    <p>您已成功報名 <strong>失智友善溝通與行為支持</strong> 課程</p>
                    
                    <div class="next-steps">
                        <h4>📧 確認信已發送至您的信箱</h4>
                        <ul>
                            <li>課程詳細資訊及注意事項</li>
                            <li>課前準備事項說明</li>
                            <li>教室地址及交通資訊</li>
                        </ul>
                        
                        <h4>📱 課前提醒</h4>
                        <p>學校將於課程前3天發送提醒郵件給您和授課老師</p>
                    </div>
                    
                    <div class="success-actions">
                        <button class="btn btn--primary" onclick="closeModal('modal-register')">
                            完成
                        </button>
                        <button class="btn" onclick="window.location.href='student-dashboard.html'">
                            查看我的課程
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <script>
        // Modal Management
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
            if (modalId === 'modal-register') {
                showStep(1);
            }
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            resetRegistrationForm();
        }
        
        // Registration Steps
        function showStep(stepNumber) {
            // Hide all steps
            for (let i = 1; i <= 3; i++) {
                document.getElementById(`registration-step-${i}`).style.display = 'none';
            }
            document.getElementById('registration-success').style.display = 'none';
            
            // Show selected step
            document.getElementById(`registration-step-${stepNumber}`).style.display = 'block';
        }
        
        function showConfirmation() {
            // Validate form
            const form = document.getElementById('registration-form');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // Populate summary
            const meal = document.getElementById('meal-preference').value;
            const accommodation = document.getElementById('accommodation').value;
            const shuttle = document.getElementById('shuttle').value;
            const dish = document.getElementById('potluck-dish').value;
            
            const mealLabels = {
                'meat': '葷食', 
                'vegetarian': '素食', 
                'vegan': '純素'
            };
            
            const accommodationLabels = {
                'none': '不需要住宿',
                'single': '單人房',
                'double': '雙人房'
            };
            
            const shuttleLabels = {
                'none': '不需要接送',
                'pickup': '僅去程接送',
                'dropoff': '僅回程接送',
                'both': '來回接送'
            };
            
            document.getElementById('registration-summary').innerHTML = `
                🍽️ 用餐需求：${mealLabels[meal] || meal}<br>
                🏨 住宿需求：${accommodationLabels[accommodation] || accommodation}<br>
                🚌 接送服務：${shuttleLabels[shuttle] || shuttle}<br>
                🥘 準備菜色：${dish}
            `;
            
            showStep(3);
        }
        
        function submitRegistration() {
            // Show success message
            document.getElementById('registration-step-3').style.display = 'none';
            document.getElementById('registration-success').style.display = 'block';
            
            // Here you would typically send the registration data to the server
            console.log('Registration submitted');
        }
        
        function redirectToPurchase() {
            // Close modal and redirect to purchase page
            closeModal('modal-register');
            openModal('modal-purchase'); // This would open the purchase modal
        }
        
        function resetRegistrationForm() {
            document.getElementById('registration-form').reset();
        }
        
        function processPurchase() {
            alert('前往付款頁面 (此為演示功能)');
            closeModal('modal-purchase');
        }
        
        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Set up modal triggers
            const registerBtn = document.querySelector('[data-open="modal-register"]');
            if (registerBtn) {
                registerBtn.addEventListener('click', function() {
                    openModal('modal-register');
                });
            }
            
            const purchaseBtn = document.querySelector('[data-open="modal-purchase"]');
            if (purchaseBtn) {
                purchaseBtn.addEventListener('click', function() {
                    openModal('modal-purchase');
                });
            }
        });
    </script>
    
    <style>
        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .modal-content {
            background: white;
            border-radius: var(--radius-card);
            position: relative;
            margin: var(--space-lg);
            box-shadow: var(--shadow-lg);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-lg);
            border-bottom: 1px solid #E8ECEF;
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 24px;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: var(--space-xs);
        }
        
        .registration-step {
            padding: var(--space-lg);
        }
        
        /* Course Summary Styles */
        .course-summary {
            background: var(--c-sub);
            border-radius: var(--radius-card);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
        }
        
        .course-summary h3 {
            margin: 0 0 var(--space-md) 0;
            color: var(--c-primary);
        }
        
        .summary-details .detail-item {
            margin-bottom: var(--space-sm);
        }
        
        .detail-item .label {
            font-weight: 500;
        }
        
        .credit-highlight {
            background: #E8F5E9;
            padding: var(--space-sm);
            border-radius: var(--radius-card);
            margin-top: var(--space-sm);
        }
        
        .credit-badge {
            background: var(--c-success);
            color: white;
            padding: 2px 8px;
            border-radius: var(--radius-pill);
            font-size: 12px;
            margin-left: var(--space-sm);
        }
        
        /* Point Validation Styles */
        .point-validation {
            background: #FFF3CD;
            border: 1px solid #FFEAA7;
            border-radius: var(--radius-card);
            padding: var(--space-lg);
        }
        
        .point-validation.sufficient {
            background: #D4EDDA;
            border: 1px solid #C3E6CB;
        }
        
        .point-status {
            margin-bottom: var(--space-lg);
        }
        
        .point-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-sm);
        }
        
        .point-row.deficit {
            font-weight: 600;
            color: var(--c-danger);
            border-top: 1px solid #FFEAA7;
            padding-top: var(--space-sm);
        }
        
        .point-row.sufficient {
            font-weight: 600;
            color: var(--c-success);
            border-top: 1px solid #D4EDDA;
            padding-top: var(--space-sm);
        }
        
        .point-actions {
            text-align: center;
        }
        
        .help-text {
            margin-top: var(--space-sm);
            color: var(--c-muted);
            font-size: 14px;
        }
        
        /* Form Styles */
        .field {
            margin-bottom: var(--space-lg);
        }
        
        .field label {
            display: block;
            margin-bottom: var(--space-sm);
            font-weight: 500;
        }
        
        .field select,
        .field input {
            width: 100%;
            padding: var(--space-sm);
            border: 1px solid #CFD8DC;
            border-radius: var(--radius-card);
        }
        
        .field__help {
            margin-top: var(--space-xs);
            font-size: 14px;
            color: var(--c-muted);
        }
        
        .existing-dishes {
            color: var(--c-primary);
            font-weight: 500;
        }
        
        .credit-acknowledgment {
            background: #E3F2FD;
            padding: var(--space-lg);
            border-radius: var(--radius-card);
        }
        
        .checkbox-label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
        }
        
        .checkbox-label input {
            margin-right: var(--space-sm);
            margin-top: 2px;
        }
        
        /* Confirmation Styles */
        .confirmation-summary {
            margin-bottom: var(--space-lg);
        }
        
        .summary-section {
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-lg);
            border-bottom: 1px solid #E8ECEF;
        }
        
        .summary-section h4 {
            margin: 0 0 var(--space-sm) 0;
            color: var(--c-primary);
        }
        
        .point-deduction {
            background: var(--c-sub);
            padding: var(--space-lg);
            border-radius: var(--radius-card);
        }
        
        .deduction-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-sm);
        }
        
        .deduction-row.total {
            font-weight: 600;
            border-top: 1px solid #CFD8DC;
            padding-top: var(--space-sm);
        }
        
        /* Success Message Styles */
        .success-message {
            text-align: center;
        }
        
        .success-icon {
            font-size: 4rem;
            margin-bottom: var(--space-lg);
        }
        
        .next-steps {
            text-align: left;
            background: var(--c-sub);
            padding: var(--space-lg);
            border-radius: var(--radius-card);
            margin: var(--space-lg) 0;
        }
        
        .next-steps h4 {
            margin: 0 0 var(--space-sm) 0;
            color: var(--c-primary);
        }
        
        .next-steps ul {
            margin: var(--space-sm) 0;
            padding-left: var(--space-lg);
        }
        
        /* Action Buttons */
        .form-actions,
        .confirmation-actions,
        .success-actions {
            display: flex;
            gap: var(--space-sm);
            justify-content: space-between;
            margin-top: var(--space-lg);
        }
        
        .success-actions {
            justify-content: center;
        }
        
        /* Modal Backdrop Styles */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-backdrop[aria-hidden="false"] {
            display: flex;
        }
        
        .modal-backdrop .modal {
            background: white;
            border-radius: var(--radius-card);
            position: relative;
            margin: var(--space-lg);
            box-shadow: var(--shadow-lg);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal__header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-lg);
            border-bottom: 1px solid #E8ECEF;
        }
        
        .modal__title {
            margin: 0;
            font-size: 24px;
        }
        
        .modal__close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: var(--space-xs);
        }
        
        .modal__content {
            padding: var(--space-lg);
        }
        
        .modal__actions {
            display: flex;
            gap: var(--space-sm);
            justify-content: space-between;
            padding: var(--space-lg);
            border-top: 1px solid #E8ECEF;
        }
        
        /* Purchase Modal Specific Styles */
        .purchase-status {
            background: var(--c-sub);
            padding: var(--space-lg);
            border-radius: var(--radius-card);
            margin-bottom: var(--space-lg);
        }
        
        .purchase-status ul {
            margin: var(--space-sm) 0 0 0;
            padding-left: var(--space-lg);
        }
        
        .purchase-status li {
            margin-bottom: var(--space-sm);
        }
        
        .purchase-packages h4 {
            margin: 0 0 var(--space-md) 0;
            color: var(--c-primary);
        }
        
        .package-options {
            display: grid;
            gap: var(--space-sm);
            margin-bottom: var(--space-lg);
        }
        
        .package-option {
            display: flex;
            align-items: center;
            padding: var(--space-md);
            border: 2px solid #E8ECEF;
            border-radius: var(--radius-card);
            cursor: pointer;
            transition: border-color 0.2s;
        }
        
        .package-option:hover {
            border-color: var(--c-primary);
        }
        
        .package-option.recommended {
            border-color: var(--c-primary);
            background: var(--c-primary-light);
        }
        
        .package-option input {
            margin-right: var(--space-sm);
        }
        
        .package-details strong {
            color: var(--c-primary);
        }
        
        /* Purchase Modal Styles */
        .purchase-info h3 {
            margin: 0 0 var(--space-md) 0;
            color: var(--c-primary);
            font-size: 18px;
        }
        
        .current-status {
            background: var(--c-sub);
            padding: var(--space-lg);
            border-radius: var(--radius-card);
            margin-bottom: var(--space-lg);
        }
        
        .status-grid {
            display: grid;
            gap: var(--space-sm);
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            padding: var(--space-sm) 0;
        }
        
        .status-item.sufficient {
            color: var(--c-success);
            font-weight: 600;
        }
        
        .package-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }
        
        .package-option {
            border: 2px solid #E8ECEF;
            border-radius: var(--radius-card);
            padding: var(--space-lg);
            text-align: center;
            position: relative;
            transition: border-color 0.2s;
        }
        
        .package-option:hover {
            border-color: var(--c-primary);
        }
        
        .package-option.recommended {
            border-color: var(--c-primary);
            background: var(--c-primary-light);
        }
        
        .package-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--c-primary);
            color: white;
            padding: 4px 12px;
            border-radius: var(--radius-pill);
            font-size: 12px;
            font-weight: 600;
        }
        
        .package-header {
            margin-bottom: var(--space-sm);
        }
        
        .package-points {
            display: block;
            font-size: 24px;
            font-weight: 700;
            color: var(--c-primary);
        }
        
        .package-price {
            display: block;
            font-size: 18px;
            font-weight: 600;
            margin-top: var(--space-xs);
        }
        
        .package-note {
            color: var(--c-muted);
            font-size: 14px;
            margin-bottom: var(--space-md);
        }
        
        .payment-options {
            display: grid;
            gap: var(--space-sm);
            margin-bottom: var(--space-lg);
        }
        
        .payment-option {
            display: flex;
            align-items: center;
            padding: var(--space-md);
            border: 1px solid #E8ECEF;
            border-radius: var(--radius-card);
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .payment-option:hover {
            background: var(--c-sub);
        }
        
        .payment-option input {
            margin-right: var(--space-sm);
        }
        
        .purchase-actions {
            display: flex;
            gap: var(--space-sm);
            justify-content: space-between;
            margin-top: var(--space-lg);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .modal-content {
                margin: var(--space-sm);
                max-height: 95vh;
            }
            
            .form-actions,
            .confirmation-actions,
            .purchase-actions {
                flex-direction: column;
            }
            
            .success-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .package-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>